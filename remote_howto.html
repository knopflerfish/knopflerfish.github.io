<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- This is a generated file. Do not edit. -->
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="description" content="How to Activate the 'Remote framework...' Menu Item in the Knopflerfish Desktop.">
  <meta name="title" content="The Remote Knopflerfish OSGi Desktop">
  <title>The Remote Knopflerfish OSGi Desktop</title>
  <link href="css/knopflerfish2.3.2.css"  type="text/css" rel="stylesheet">
  <link rel="shortcut icon"                          href="images/favicon.png">
  <script type="text/javascript" src="scripts/menu.js"></script>
  <script type="text/javascript" src="scripts/current_release.js"></script>
</head>
<body>
  <div id="main">
    <a name="top"></a>
    <div id="header">
      <div id="header_logo">
	<a href="index.html"><img src="images/kf300_black.png" border="0" alt="knopflerfish logo"></a>
      </div>
      <div id="header_ad">
	<div class="header_stylish">
	  Open Source OSGi Service Platform Maintained by<br>
	  <a href="http://www.makewave.com">
	    <img style="margin-top: 4px;" src="images/makewave_logo.png" alt="Makewave" border="0">
	  </a>
	</div>
      </div>
      <div class="break"></div>
      <div id="header_menu">
	<a class="button_closed" href="index.html">Home</a>
	<a class="button_closed" href="news.html">News</a>
	<a class="button_closed" href="download.html">Download</a>
	<a class="button_open" href="documentation.html">Documentation</a>
	<a class="button_closed" href="about.html">About</a>
      </div>
    </div>
    <div id="leftmenu">
      <form style="padding-left: 0px;" class="searchform" method="GET" action="http://www.google.com/search">
	<input type="hidden" name="ie"         value="UTF-8">
	<input type="hidden" name="oe"         value="UTF-8">
	<input type="hidden" name="domains"    value="www.knopflerfish.org">
	<input type="hidden" name="sitesearch" value="www.knopflerfish.org">
	<input TYPE="text"   value="Search site" name="q" size="20" maxlength="255"
	       onFocus="clearText(this)" onBlur="clearText(this)"
	       class="searchfield">
      </form>
      <div id="menu_news"><div class="nrow">
	  <img src="images/arrow_closed.gif" alt="" onclick="setMenuById(this.parentNode.parentNode.id, 'toggle')">
	  <a class="nrow_closed" href="news.html">News</a></div>
	<div class="nrow1_closed"><a href="news_archive.html">Archive</a></div>
	<!-- <div class="nrow1_closed"><a href="http://www.knopflerfish.org/mailman/listinfo">Mailing lists</a></div> -->
	<div class="nrow1_off_closed">Mailing lists</div>
      </div>
      
      <div id="menu_download"><div class="nrow"><img src="images/arrow_closed.gif" alt="" onclick="setMenuById(this.parentNode.parentNode.id, 'toggle')"><a class="nrow_closed" href="download.html">Download</a></div>
	<div class="nrow1_closed"><a href="license.html">License</a></div>
	<!--
	<div class="nrow1_closed"><a href="/snapshots/">Nightly builds</a></div>
	<div class="nrow1_closed"><a href="/snapshots/current_trunk/junit_grunt/index.xml">Nightly tests</a></div>
	-->
	<div class="nrow1_off_closed">Nightly builds (off)</div>
	<div class="nrow1_off_closed">Nightly tests (off)</div>
	<!-- <div class="nrow1_closed"><a href="/releases/current/osgi/jars/index.xml">Bundle repository</a></div> -->
	<div class="nrow1_closed"><a href="/releases/current/osgi/jars/index.html"
						onclick="currentReleasePath(this, '/osgi/jars/index.html')"> Bundle repository</a></div>
	<div class="nrow1_closed"><a href="git_info.html">Source code (git)</a></div>
	<div class="nrow1_closed"><a href="archive.html">Archived releases</a></div>
	<div class="nrow1_closed"><a href="maven.html">Maven repository</a></div>
      </div>
      <div id="menu_docs"><div class="nrow"><img src="images/arrow_open.gif" alt="" onclick="setMenuById(this.parentNode.parentNode.id, 'toggle')"><a class="nrow_open" href="documentation.html">Documentation</a></div>
	<div class="nrow1_open"><a href="kf5_osgi_r5.html">About Knopflerfish 5</a></div>
	<div class="nrow1_open"><a href="kf4_osgi_r4_v4.3.html">About Knopflerfish 4</a></div>
	<div class="nrow1_open"><a href="kf3_osgi_r4_v4.2.html">About Knopflerfish 3</a></div>
	<div class="nrow1_open"><a href="osgi_java_compatability_guide.html">Java Compatability</a></div>
	<!-- <div class="nrow1_open"><a href="/releases/current/docs/index.html">Manual (KF 5.2.0)</a></div> -->
	<div class="nrow1_open"><a href="/releases/current/docs/index.html"
					    onclick="currentReleasePath(this, '/docs/index.html')">Manual (KF 5.2.0)</a></div>
	<!--
	<div class="nrow1_label_open">Shortcuts</div>
	<div class="nrow1_indent_open"><a href="/releases/current/docs/installing.html">Installing</a></div>
	<div class="nrow1_indent_open"><a href="/releases/current/docs/running.html">Running</a></div>
	<div class="nrow1_indent_open"><a href="/releases/current/docs/building.html">Building</a></div>
	<div class="nrow1_indent_open"><a href="/releases/current/docs/programming.html">Programming</a></div>
	<div class="nrow1_indent_open"><a href="/releases/current/docs/testing.html">Testing</a></div>
	-->
	<!-- <div class="nrow1_open"><a href="/snapshots_trunk/current_trunk/docs/index.html">Manual (snapshot)</a></div> -->
	<div class="nrow1_off_open">Manual (snapshot)</a></div>
	<div class="nrow1_open"><a href="tutorials.html">Tutorials</a></div>
	<div class="nrow1_open"><a href="eclipse_plugin.html">Eclipse plugin</a></div>
      </div>
      <div id="menu_about"><div class="nrow"><img src="images/arrow_closed.gif" alt="" onclick="setMenuById(this.parentNode.parentNode.id, 'toggle')"><a class="nrow_closed" href="about.html">About</a></div>
	<div class="nrow1_closed"><a href="history.html">History</a></div>
	<div class="nrow1_closed"><a href="contacts.html">Contacts</a></div>
	<div class="nrow1_closed"><a href="osgi-links.html">OSGi related links</a></div>
	<div class="nrow1_closed"><a href="merchandise.html">T-shirt and stuff</a></div>
      </div>
      <div class="nrow">&nbsp;</div>
      <!-- <div class="nrow"><a href="http://www.knopflerfish.org/mailman/listinfo">Mailing lists </a></div> -->
      <div class="nrow_off">Mailing lists</div>
      <div class="nrow"><a  href="http://sourceforge.net/tracker/?atid=567241&amp;group_id=82798&amp;func=browse">Bug tracker <img border="0" alt="" src="images/extlink.gif"></a></div>
      <!--
      <div class="nrow"><a href="https://sourceforge.net/forum/forum.php?forum_id=328005">
	  Forum <img border="0" src="images/extlink.gif"alt="">
      </a></div-->
      <div class="nrow_off">Forum</div>
      <div class="nrow"><a href="http://knopflerfish.blogspot.com/">
	  Knopflerfish Blog <img border="0" src="images/extlink.gif"alt="">
      </a></div>
      <div class="makewave">
	Maintained by<br>
	<a href="http://www.makewave.com"><img src="images/makewave_logo_126x16.gif" alt="Makewave" border="0"></a><br>
	<div class="makewave_2">
	  <a href="http://www.makewave.com/site.en/products/knopflerfish_pro_osgi.shtml">
	    Knopflerfish Pro<img border="0" alt="" src="images/extlink.gif"></a><br>
	  <a href="http://www.makewave.com/site.en/products/osgi_training.shtml">
	    OSGi Training<img border="0" alt="" src="images/extlink.gif"></a><br>
	  <a href="http://www.makewave.com/site.en/products/osgi_expert.shtml">
	    Professional Services<img border="0" alt="" src="images/extlink.gif"></a><br>
	</div>
      </div>
      <div class="makewave">
	<a href="http://www.twitter.com/knopflerfish"><img src="http://twitter-badges.s3.amazonaws.com/follow_us-b.png" alt="Follow knopflerfish on Twitter" border="0"/></a>
	
      </div>
    </div>
    <div id="mainblock">
      
<h1>How to Activate the "Remote framework..." Menu Item in the Knopflerfish Desktop</h1>

  <img src="images/no_remote_framework.png" align="right"/>

  The Knopflerfish Desktop has the ability to remote control frameworks running on other computers or devices (including headless devices that cannot run the desktop them selves). This document describes how to activate this feature.
  <p/>

  Typically, the "Remote framework..." menu item (in the File menu) is greyed out. The reason for this is that, typically, the remote framework service that the desktop is looking for is not present. To connect to a remote framework, the desktop needs an implementation of the <b>org.knopflerfish.service.remotefw.RemoteFramework</b> interface. This implementation decides which protocol to use and handles the communication.
  <p/>

  The implementation described here uses kSOAP 2, which is a small-footprint SOAP implementation on top of kXML. It provides remote access to all functionality in the desktop (including the log tab and the console).

  <br clear="both"/>

<h3>Terminology</h3>
  <b>Server</b>: The server in this context is the remote controlled framework that waits for connections to its SOAP servlet.
  <p/>
  <b>Client</b>: The client in this context is the framework that is running the desktop that is connecting to and controlling the server.

<h3>Needed Bundles</h3>

  Two special bundles are needed both on the server and the client side:

  <ul>
    <li><b>ksoap-osgi</b> (ksoap-osgi_all-1.0.0.jar) - Contains the kSOAP libs and registers the SOAP servlet.</li>
    <li><b>ksoap_remotefw</b> (ksoap_remotefw_all-1.0.0.jar) - Supplies the RemoteFramework implementation (on the client) and handles .</li>
  </ul>

  These standard bundles are needed as stated below:

  <ul>
    <li><b>desktop</b> (desktop_all-1.1.0.jar) - Needed on the <b>client</b> (of course).</li>
    <li><b>remotefw_api</b> (remotefw_api-1.0.0.jar) - Needed on the <b>server</b> to provide the org.knopflerfish.service.remotefw package (when the desktop is not installed).</li>
  </ul>

  Since a servlet is used, the <b>HTTP</b> (http_all-1.1.0.jar) and <b>JSDK</b> (jsdk-2.2.jar) bundles are also needed. As usual, some of these bundles also depend on a number of standard bundles (including the Knopflerfish util bundle).

<h3>Configuration</h3>

  The configuration is done with system properties. All of them have reasonable defaults and things will work without configuration.

  <h4>Server</h4>
  <ul>
    <li><b>org.osgi.service.http.port</b> - Defines the port for the HTTP server. Defaults to 80.</li>
    <li><b>org.knopflerfish.soap.remotefw.server</b> - Can be set to <b>true</b> on the client just to make it clear that it is a server. Defaults to true.</li>
    <li><b>org.knopflerfish.soap.remotefw.client</b> - Can be set to <b>false</b> on the server. No RemoteFramework service will be registered and the desktop (if installed) will not be able to use the remote framework feature. Defaults to true.</li>
  </ul>

  <h4>Client</h4>
  <ul>
    <li><b>org.knopflerfish.soap.remotefw.client.eventinterval</b> - Defines the time (in ms) between polls to get events and log entries from the server. Defaults to 3000.</li>
    <li><b>org.knopflerfish.soap.remotefw.server</b> - Can be set to <b>false</b> on the client. No servlet will be registered and other desktops will not be able to connect to this framework. Defaults to true.</li>
    <li><b>org.knopflerfish.soap.remotefw.client</b> - Can be set to <b>true</b> on the client just to make it clear that it is a client. Defaults to true.</li>
    <li><b>org.knopflerfish.soap.remotefw.client.sendlocalpaths</b> - Set to true to avoid sending base64 encoded bundles when installing. Defaults to false.</li>
  </ul>

  <h4>Common</h4>
  <ul>
    <li><b>org.knopflerfish.soap.remotefw.client.debug</b> - If set to true, causes the ksoap bundles to print some debug information. Defaults to false.</li>
  </ul>

<h3>Connecting</h3>

  <img src="images/remote_framework.png" align="right"/>

  When all the above is done and you start your frameworks, you'll find that the "Remote framework..." menu item is available. Click on it.
  <p/>

  Enter the address to the remote framework. You should only enter the server name and the port, e.g. "http://localhost:8080". The rest is added automatically.
  <p/>

  Click OK.
  <p/>

  The desktop will be closed and reopened with the address to the remote framework in the title bar (e.g. "Knopflerfish OSGi desktop (http://localhost:8080)"). If the parenthesis are empty, something is wrong and you need to consult your log.

  <br clear="both"/>

<h3>Known Problems</h3>

  If the remote framework is shut down (which can be done remotely by running the console command "framework shutdown"), the desktop may behave strangely.
  <p/>

  Log entries can appear in unexpected order.


    </div>
    <div class="break"></div>
    <div id="footer">
      <div id="copyright">
	Copyright &copy; 2008-2015. The Knopflerfish Project. All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
