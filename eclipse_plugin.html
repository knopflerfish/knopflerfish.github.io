<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- This is a generated file. Do not edit. -->
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="description" content="">
  <meta name="title" content="Knopflerfish Eclipse Plugin">
  <title>Knopflerfish Eclipse Plugin</title>
  <link href="css/knopflerfish2.3.2.css"  type="text/css" rel="stylesheet">
  <link rel="shortcut icon"                          href="images/favicon.png">
  <script type="text/javascript" src="scripts/google-analytics.js"></script>
  <script type="text/javascript" src="scripts/menu.js"></script>
  <script type="text/javascript" src="scripts/current_release.js"></script>
</head>
<body>
  <div id="main">
    <a name="top"></a>
    <div id="header">
      <div id="header_logo">
	<a href="index.html"><img src="images/kf300_black.png" border="0" alt="knopflerfish logo"></a>
      </div>
      <div id="header_ad">
	<div class="header_stylish">
	  Open Source OSGi Service Platform Maintained by<br>
	  <a href="http://www.makewave.com">
	    <img style="margin-top: 4px;" src="images/makewave_logo.png" alt="Makewave" border="0">
	  </a>
	</div>
      </div>
      <div class="break"></div>
      <div id="header_menu">
	<a class="button_closed" href="index.html">Home</a>
	<a class="button_closed" href="news.html">News</a>
	<a class="button_closed" href="download.html">Download</a>
	<a class="button_open" href="documentation.html">Documentation</a>
	<a class="button_closed" href="about.html">About</a>
      </div>
    </div>
    <div id="leftmenu">
      <form style="padding-left: 0px;" class="searchform" method="GET" action="http://www.google.com/search">
	<input type="hidden" name="ie"         value="UTF-8">
	<input type="hidden" name="oe"         value="UTF-8">
	<input type="hidden" name="domains"    value="www.knopflerfish.org">
	<input type="hidden" name="sitesearch" value="www.knopflerfish.org">
	<input TYPE="text"   value="Search site" name="q" size="20" maxlength="255"
	       onFocus="clearText(this)" onBlur="clearText(this)"
	       class="searchfield">
      </form>
      <div id="menu_news"><div class="nrow">
	  <img src="images/arrow_closed.gif" alt="" onclick="setMenuById(this.parentNode.parentNode.id, 'toggle')">
	  <a class="nrow_closed" href="news.html">News</a></div>
	<div class="nrow1_closed"><a href="news_archive.html">Archive</a></div>
	<!-- <div class="nrow1_closed"><a href="http://www.knopflerfish.org/mailman/listinfo">Mailing lists</a></div> -->
	<div class="nrow1_off_closed">Mailing lists</div>
      </div>
      
      <div id="menu_download"><div class="nrow"><img src="images/arrow_closed.gif" alt="" onclick="setMenuById(this.parentNode.parentNode.id, 'toggle')"><a class="nrow_closed" href="download.html">Download</a></div>
	<div class="nrow1_closed"><a href="license.html">License</a></div>
	<!--
	<div class="nrow1_closed"><a href="/snapshots/">Nightly builds</a></div>
	<div class="nrow1_closed"><a href="/snapshots/current_trunk/junit_grunt/index.xml">Nightly tests</a></div>
	-->
	<div class="nrow1_off_closed">Nightly builds (off)</div>
	<div class="nrow1_off_closed">Nightly tests (off)</div>
	<!-- <div class="nrow1_closed"><a href="/releases/current/osgi/jars/index.xml">Bundle repository</a></div> -->
	<div class="nrow1_closed"><a href="/releases/current/osgi/jars/index.html"
						onclick="currentReleasePath(this, '/osgi/jars/index.xml')"> Bundle repository</a></div>
	<div class="nrow1_closed"><a href="git_info.html">Source code (git)</a></div>
	<div class="nrow1_closed"><a href="archive.html">Archived releases</a></div>
	<div class="nrow1_closed"><a href="maven.html">Maven repository</a></div>
      </div>
      <div id="menu_docs"><div class="nrow"><img src="images/arrow_open.gif" alt="" onclick="setMenuById(this.parentNode.parentNode.id, 'toggle')"><a class="nrow_open" href="documentation.html">Documentation</a></div>
	<div class="nrow1_open"><a href="kf6_osgi_r6.html">About Knopflerfish 6</a></div>
	<div class="nrow1_open"><a href="kf5_osgi_r5.html">About Knopflerfish 5</a></div>
	<div class="nrow1_open"><a href="kf4_osgi_r4_v4.3.html">About Knopflerfish 4</a></div>
	<div class="nrow1_open"><a href="kf3_osgi_r4_v4.2.html">About Knopflerfish 3</a></div>
	<div class="nrow1_open"><a href="osgi_java_compatibility_guide.html">Java Compatability</a></div>
	<!-- <div class="nrow1_open"><a href="/releases/current/docs/index.html">Manual (KF 5.2.0)</a></div> -->
	<div class="nrow1_open"><a href="/releases/current/docs/index.html"
					    onclick="currentReleasePath(this, '/docs/index.html')">Manual (KF 5.2.0)</a></div>
	<!--
	<div class="nrow1_label_open">Shortcuts</div>
	<div class="nrow1_indent_open"><a href="/releases/current/docs/installing.html">Installing</a></div>
	<div class="nrow1_indent_open"><a href="/releases/current/docs/running.html">Running</a></div>
	<div class="nrow1_indent_open"><a href="/releases/current/docs/building.html">Building</a></div>
	<div class="nrow1_indent_open"><a href="/releases/current/docs/programming.html">Programming</a></div>
	<div class="nrow1_indent_open"><a href="/releases/current/docs/testing.html">Testing</a></div>
	-->
	<!-- <div class="nrow1_open"><a href="/snapshots_trunk/current_trunk/docs/index.html">Manual (snapshot)</a></div> -->
	<div class="nrow1_off_open">Manual (snapshot) (off)</a></div>
	<div class="nrow1_open"><a href="tutorials.html">Tutorials</a></div>
	<div class="nrow1_open"><a href="eclipse_plugin.html">Eclipse plugin</a></div>
      </div>
      <div id="menu_about"><div class="nrow"><img src="images/arrow_closed.gif" alt="" onclick="setMenuById(this.parentNode.parentNode.id, 'toggle')"><a class="nrow_closed" href="about.html">About</a></div>
	<div class="nrow1_closed"><a href="history.html">History</a></div>
	<div class="nrow1_closed"><a href="contacts.html">Contacts</a></div>
	<div class="nrow1_closed"><a href="osgi-links.html">OSGi related links</a></div>
	<div class="nrow1_closed"><a href="merchandise.html">T-shirt and stuff</a></div>
      </div>
      <div class="nrow">&nbsp;</div>
      <!-- <div class="nrow"><a href="http://www.knopflerfish.org/mailman/listinfo">Mailing lists </a></div> -->
      <div class="nrow_off">Mailing lists</div>
      <div class="nrow"><a  href="http://sourceforge.net/tracker/?atid=567241&amp;group_id=82798&amp;func=browse">Bug tracker <img border="0" alt="" src="images/extlink.gif"></a></div>
      <!--
      <div class="nrow"><a href="https://sourceforge.net/forum/forum.php?forum_id=328005">
	  Forum <img border="0" src="images/extlink.gif"alt="">
      </a></div-->
      <div class="nrow_off">Forum</div>
      <div class="nrow"><a href="http://knopflerfish.blogspot.com/">
	  Knopflerfish Blog <img border="0" src="images/extlink.gif"alt="">
      </a></div>
      <div class="makewave">
	Maintained by<br>
	<a href="http://www.makewave.com"><img src="images/makewave_logo_126x16.gif" alt="Makewave" border="0"></a><br>
	<div class="makewave_2">
	  <a href="http://www.makewave.com/site.en/products/knopflerfish_pro_osgi.shtml">
	    Knopflerfish Pro<img border="0" alt="" src="images/extlink.gif"></a><br>
	  <a href="http://www.makewave.com/site.en/products/osgi_training.shtml">
	    OSGi Training<img border="0" alt="" src="images/extlink.gif"></a><br>
	  <a href="http://www.makewave.com/site.en/products/osgi_expert.shtml">
	    Professional Services<img border="0" alt="" src="images/extlink.gif"></a><br>
	</div>
      </div>
      <div class="makewave">
	<a href="http://www.twitter.com/knopflerfish"><img src="http://twitter-badges.s3.amazonaws.com/follow_us-b.png" alt="Follow knopflerfish on Twitter" border="0"/></a>
	
      </div>
    </div>
    <div id="mainblock">
      <h1 class="kf">Knopflerfish Eclipse Plugin</h1>

The Knopflerfish Eclipse Plug-in is a tool for launching and debugging
the Knopflerfish OSGi distribution. The goal with the plug-in is to
simply the use of Knopflerfish for developers using Eclipse as their
IDE. 

<p>
  The current version of the plug-in is 1.2.0. 
</p>
<p>
  Note: If you are upgrading from an earlier version of the plug-in
  you may need to 
  <a href="eclipse_plugin_upgrade_1_0_19.html">
    consult the upgrading instructions.</a>
</p>
<p>
  You can install the latest release from the
  Knopflerfish update site using the Eclipse software update mechanism:
</p>
<p>
  Eclipse update site: <b>http://www.knopflerfish.org/eclipse-update/</b>
</P>

<p>
  <a href="eclipse_changelog.html">Eclipse Plugin Changelog</a>
</p>

<p>
The Knopflerfish Eclipse Plugin is available under the Knopflerfish <a
href="license.html">BSD style license</a> 
<p>


<h3>Contents</h3>
<ol>
  <li><a href="eclipse_install.html">Installing the Knopflerfish Eclipse Plugin</a>
  <li><a href="eclipse_preferences.html">Setting Preferences for Plugin</a>
</ol>



<h1>Creating a bundle project</h1>


<h3>Creating a new bundle project</h3>

<ol>
 <li>Select File/New/Project...
 <li>Select Bundle Project and enter project info.
 <li>A new project is created. 
</ol>


<h3>Editing Bundle Manifest</h3>
Double click on the bundle.manifest file in your project. The file will be opened in a special editor, which has one tab 
for a graphical view of the manifest and one tab for a text view. Not all attributes can yet be set through the
graphical view, e.g. Import-Package, Export-Package etc. For now you will have to set these attributes in the text
view.

<p>
<b>TODO:</b> Add attributes to the graphical view and help setting them.
</p>

<h3>Using Services</h3>
This is not yet supported in the plugin. For now you will have to manually add the JAR file containing the service API 
to your classpath and also edit the bundle manifest Import-Package attribute, see above.

<p>
<b>TODO:</b> Support usage of services, by given the service package, automatically find bundle JARs exporting this 
package, add it to the build classpath and also update the manifest attribute Import-Package.
</p>


<h3>Running/Debugging</h3>

Create a new launch configuration by selecting 'Run...' or 'Debug...' from the Run menu and thereafter select
Knopflerfish from the configurations list and press 'New'.

<h4>Launch Configuration</h4>


<h5>Main Tab</h5>
<p>
The main tab is used for setting which framework to run and where to store
the instance data (the .xargs files and the fwdir).
</p>
<p>
In the main tab a list of known system properties are listed and their default values.
When a predefined property is selected a short description is shown. The value can be 
changed either by double-clicking or selecting 'Edit...'. When a predefined property
is changed from its default value it is marked in bold. To restore a property to its
default value, edit the property and in the edit dialog select 'Restore Default'. 
When running/debugging a framework, only properties
that differ from their default values are included in the generated .xargs file.
</p>
<p>
User properties can be added or removed using the 'Add...' or 'Remove' button. 
</p>
<p>
<b>Known Bug:</b> User properties can not be removed.
</p>


<h5>Bundles Tab</h5>
<p>
Under this tab you specify the set of bundles that should be launched together with the
framework.
</p>
<p>
Available Bundles is a tree listing all bundles that are either part of the workspace
or available through an installed Knopflerfish distribution. Bundles already
selected are filtered from the 'Available' tree. Bundles are added to the 
selected list by selecting them and pressing 'Add'.
</p>
<p>
Selected Bundles shows a list of the bundles that are currently selected. 
For each bundle, the start level, mode and missing packages problems are shown.
</p>
<p>
By default the start level is set to 1 for Knopflerfish bundles and to 2 for
workspace bundles. The start level of a bundle can be changed by selecting
the start level cell (click on it).
</p>
<p>
The default value for mode is determined by the bundle's manifest; if a bundle activator exists,
mode is set to 'Start'; otherwise it is set to 'Install'. To change the mode of a bundle, select
the mode cell for that bundle by clicking on it.
</p>
<p>
If a bundle imports packages which are not exported by any of the selected bundles, 
a red error message will be shown in the 'Missing Packages' column indicating the
missing package(s).  
</p>

<h4>Basic configurations</h4>
<p>
This section lists sets of bundles that are needed to run some commonly used applications.
</p>
<p>
Log
<ul>
 <li>log_all-1.0.0.jar</li>
 <li>console_api-1.0.0.jar</li>
 <li>cm_api-1.0.0.jar</li>
</ul>
</p>
<p>
Log and TTY console 
<ul>
 <li>log_all-1.0.0.jar</li>
 <li>console_all-1.0.0.jar (Note: console_all is used instead of console_api)</li>
 <li>cm_api-1.0.0.jar</li>
 <li>consoletty-1.0.0.jar</li>
 <li>frameworkcommands-1.0.0.jar</li>
 <li>logcommands-1.0.0.jar</li>
</ul>
</p>
<p>
Log, TTY console and CM
<ul>
 <li>log_all-1.0.0.jar</li>
 <li>console_all-1.0.0.jar</li>
 <li>cm_all-1.0.0.jar  (Note: cm_all is used instead of cm_api)</li>
 <li>consoletty-1.0.0.jar</li>
 <li>frameworkcommands-1.0.0.jar</li>
 <li>logcommands-1.0.0.jar</li>
 <li>crimson-1.1.3.jar (Note: any XML implementation exporting org.xml.sax packages can be used)</li>
</ul>
</p>
<p>
Log, TTY console, CM and desktop
<ul>
 <li>log_all-1.0.0.jar</li>
 <li>console_all-1.0.0.jar</li>
 <li>cm_all-1.0.0.jar</li>
 <li>consoletty-1.0.0.jar</li>
 <li>frameworkcommands-1.0.0.jar</li>
 <li>logcommands-1.0.0.jar</li>
 <li>crimson-1.1.3.jar</li>
 <li>desktop_all-1.1.0.jar</li>
 <li>util-1.0.0.jar</li>
</ul>

<b>Note:</b> The desktop can show a busy-wait mouse cursor, if this happens position the cursor last in the 
Eclipse Console and press return a few times. 
</p>



<h3>Packaging Bundle</h3>

<p>
The contents of the bundle  is specified by the bundle.jar file. A special editor is linked to this file, which is opened when the file is selected. The editor allows the contents to be specified either through a graphical view or by directly editing the underlying XML file.
</p>
<p>
The graphical view has two sections:
<ul>
 <li>Export</li>
 <li>Contents</li> 
</ul>

<h4>Export</h4>
By selecting export the bundle is packaged and exported to the selected destination. The contents of the bundle is set in the contents section.

<h4>Contents</h4>
The contents section specifies all resources that shall be included and where to store them in the bundle JAR file. Each row in the contents table shows a resource that shall be included and consists of the following:
<ul>
 <li><b>Resource</b> - The path to a file or folder in the current workspace.</li>
 <li><b>Destination</b> - The path to store the resource in the JAR file. The resource contents is stored in the JAR entry specified by destination. If destination is empty it means the JAR root.</li>
 <li><b>Pattern</b> - An regular expression can be specified to filter the resources to be included</li>
</ul>
<p>
By default the bundle.jar specifies the class-files from the output directory to be included in the JAR file.
</p>
<pre>
 &lt;?xml version="1.0" encoding="UTF-8"?&gt;
 &lt;bundlejar&gt;
 &lt;resource dst="" pattern=".*\.class" src="/positron/out"/&gt;
 &lt;/bundlejar&gt;

</pre>




    </div>
    <div class="break"></div>
    <div id="footer">
      <div id="copyright">
	Copyright &copy; 2008-2015. The Knopflerfish Project. All rights reserved.
      </div>
    </div>
  </div>
</body>
</html>
